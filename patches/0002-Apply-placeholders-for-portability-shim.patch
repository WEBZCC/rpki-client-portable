From d9d0a41cf4734c39efead1c21624a83903233aca Mon Sep 17 00:00:00 2001
From: Claudio Jeker <claudio@openbsd.org>
Date: Mon, 20 Apr 2020 12:16:46 +0200
Subject: [PATCH 2/4] Apply placeholders for portability shim

From Robert Scheck
---
 src/usr.sbin/rpki-client/rpki-client.8 | 20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

diff --git src/usr.sbin/rpki-client/rpki-client.8 src/usr.sbin/rpki-client/rpki-client.8
index 0ba292aeb..0c702db7e 100644
--- src/usr.sbin/rpki-client/rpki-client.8
+++ src/usr.sbin/rpki-client/rpki-client.8
@@ -41,7 +41,7 @@ The
 .Nm
 utility queries the RPKI repository system with
 a built-in HTTP client and
-.Xr openrsync 1
+.Xr @RSYNC@ 1
 to fetch all X.509 certificates, manifests, and revocation lists under a given
 .Em Trust Anchor .
 .Nm
@@ -86,12 +86,12 @@ The directory where
 .Nm
 will store the cached repository data.
 Defaults to
-.Pa /var/cache/rpki-client .
+.Pa @RPKI_BASE_DIR@ .
 .It Fl e Ar rsync_prog
 Use
 .Ar rsync_prog
 instead of
-.Xr openrsync 1
+.Xr @RSYNC@ 1
 to fetch repositories.
 It must accept the
 .Fl rt
@@ -174,7 +174,7 @@ This option can be used multiple times to load multiple TALs.
 By default
 .Nm
 will load all TAL files in
-.Pa /etc/rpki .
+.Pa @RPKI_TAL_DIR@ .
 .It Fl V
 Show the version and exit.
 .It Fl v
@@ -185,7 +185,7 @@ The directory where
 .Nm
 will write the output files.
 Defaults to
-.Pa /var/db/rpki-client/ .
+.Pa @RPKI_OUT_DIR@ .
 .El
 .Pp
 By default
@@ -210,20 +210,20 @@ utilizes the following environment variables:
 URL of HTTP proxy to use.
 .El
 .Sh FILES
-.Bl -tag -width "/var/db/rpki-client/openbgpd" -compact
-.It Pa /etc/rpki/*.tal
+.Bl -tag -width "@RPKI_OUT_DIR@/openbgpd" -compact
+.It Pa @RPKI_TAL_DIR@/*.tal
 default TAL files used unless
 .Fl t Ar tal
 is specified.
-.It Pa /var/cache/rpki-client
+.It Pa @RPKI_BASE_DIR@
 cached repository data.
-.It Pa /var/db/rpki-client/openbgpd
+.It Pa @RPKI_OUT_DIR@/openbgpd
 default roa-set output file.
 .El
 .Sh EXIT STATUS
 .Ex -std
 .Sh SEE ALSO
-.Xr openrsync 1 ,
+.Xr @RSYNC@ 1 ,
 .Xr bgpd.conf 5
 .Sh STANDARDS
 The following standards are used or referenced in
-- 
2.36.0

